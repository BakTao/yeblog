<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tao.yeblog.dao.ShopMapper">

    <select id="pageShopInfo" parameterType="com.tao.yeblog.model.qo.ShopQO"
            resultType="com.tao.yeblog.model.dto.ShopDTO">
      select t1.goodsid goodsId,
      t1.name name,
      t1.nums nums,
      t1.buynums buynums,
      t1.price price,
      t1.photo photo,
      t1.type type,
      t1.content content
      from shop t1
    </select>

    <update id="updateShopInfo" parameterType="com.tao.yeblog.model.dto.ShopDTO">
      update shop t
      <set>
        <if test="goodsId != null and goodsId != ''">
          t.goodsid = #{goodsId}
        </if>
        <if test="name != null and name != ''">
          t.name = #{name}
        </if>
        <if test="nums != null and nums != ''">
          t.nums = #{nums}
        </if>
        <if test="buyNums != null and buyNums != ''">
          t.buynums = #{buyNums}
        </if>
        <if test="price != null and price != ''">
          t.price = #{price}
        </if>
        <if test="type != null and type != ''">
          t.type = #{type}
        </if>
        <if test="content != null and content != ''">
          t.content = #{content}
        </if>
      </set>
      where 1=1
      <if test="goodsId != null and goodsId != ''">
        t.goodsid = #{goodsId}
      </if>
    </update>

    <insert id="createShopInfo" parameterType="com.tao.yeblog.model.dto.ShopDTO">
      insert into shop t
      (id,
      goodsid,
      name,
      nums,
      buynums,
      price,
      photo,
      type,
      content
      )
      values
      (uuid(),
      #{goodsId},
      #{name},
      #{nums},
      #{buyNums},
      #{price},
      #{type},
      #{content}
      )

    </insert>
</mapper>
