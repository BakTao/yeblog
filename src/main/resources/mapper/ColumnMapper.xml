<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tao.yeblog.dao.ColumnMapper">

    <select id="pageColumnInfo" parameterType="com.tao.yeblog.model.qo.ColumnQO"
            resultType="com.tao.yeblog.model.dto.ColumnDTO">
      select t1.columnid columnId,
      t1.name name,
      count(t1.columnid) blogCount
      from column t1
      left join blog t2 on t1.columnid = t2.columnid
      group by t1.columnid.t1.name
    </select>

    <select id="listColumnInfo" parameterType="com.tao.yeblog.model.qo.ColumnQO"
            resultType="com.tao.yeblog.model.dto.SelectDTO">
      select t1.columnid value,
      t1.name name
      from yeblog_db.column t1
      order by t1.columnid
    </select>

    <insert id="createColumnInfo" parameterType="com.tao.yeblog.model.dto.ColumnDTO">
      insert into blog
      (id,
      columnid,
      name)
      values
      (
      uuid(),
      #{columnId},
      #{name}
      )
    </insert>

</mapper>
